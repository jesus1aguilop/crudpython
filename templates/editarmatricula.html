{% extends "base.html" %}

{% block content %}
<div class="container mt-5">
    <h2 class="text-center mb-4">Editar Matrícula</h2>
    <form action="{{ url_for('editar_matricula', idmatricula=matricula.idmatricula) }}" method="POST" class="needs-validation" novalidate>
        <!-- Selección de Alumno -->
        <div class="mb-3">
            <label for="idalumno" class="form-label">Alumno</label>
            <select name="idalumno" id="idalumno" class="form-select" required>
                <option value="">Seleccionar Alumno</option>
                {% for alumno in alumnos %}
                <option value="{{ alumno.idalumno }}" {% if alumno.idalumno == matricula.idalumno %}selected{% endif %}>
                    {{ alumno.nombre }} {{ alumno.apellidos }}
                </option>
                {% endfor %}
            </select>
            <div class="invalid-feedback">
                Por favor selecciona un alumno.
            </div>
        </div>

        <!-- Selección de Asignatura -->
        <div class="mb-3">
            <label for="idasignatura" class="form-label">Asignatura</label>
            <select name="idasignatura" id="idasignatura" class="form-select" required>
                <option value="">Seleccionar Asignatura</option>
                {% for asignatura in asignaturas %}
                <option value="{{ asignatura.idasignatura }}" {% if asignatura.idasignatura == matricula.idasignatura %}selected{% endif %}>
                    {{ asignatura.nombre }}
                </option>
                {% endfor %}
            </select>
            <div class="invalid-feedback">
                Por favor selecciona una asignatura.
            </div>
        </div>

        <!-- Botón Guardar -->
        <div class="text-center">
            <button type="submit" class="btn btn-primary">Guardar Cambios</button>
        </div>
    </form>
</div>
{% endblock %}
